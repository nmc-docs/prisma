"use strict";(self.webpackChunknextjs=self.webpackChunknextjs||[]).push([[143],{7695:(n,i,t)=>{t.r(i),t.d(i,{assets:()=>l,contentTitle:()=>r,default:()=>d,frontMatter:()=>s,metadata:()=>o,toc:()=>c});var e=t(4848),a=t(8453);const s={sidebar_position:3},r="Quan h\u1ec7 n - n",o={id:"relations/many-to-many-relation",title:"Quan h\u1ec7 n - n",description:"Explicit many-to-many relations",source:"@site/docs/relations/many-to-many-relation.md",sourceDirName:"relations",slug:"/relations/many-to-many-relation",permalink:"/prisma/relations/many-to-many-relation",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Quan h\u1ec7 1 - n",permalink:"/prisma/relations/one-to-many-relation"},next:{title:"@relation()",permalink:"/prisma/relations/@relation"}},l={},c=[{value:"Explicit many-to-many relations",id:"explicit-many-to-many-relations",level:2},{value:"Implicit many-to-many relations",id:"implicit-many-to-many-relations",level:2}];function h(n){const i={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,a.R)(),...n.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(i.header,{children:(0,e.jsx)(i.h1,{id:"quan-h\u1ec7-n---n",children:"Quan h\u1ec7 n - n"})}),"\n",(0,e.jsx)(i.h2,{id:"explicit-many-to-many-relations",children:"Explicit many-to-many relations"}),"\n",(0,e.jsxs)(i.ul,{children:["\n",(0,e.jsxs)(i.li,{children:[(0,e.jsx)(i.strong,{children:"Explicit many-to-many relations"})," trong Prisma y\xeau c\u1ea7u ph\u1ea3i t\u1ea1o m\u1ed9t b\u1ea3ng trung gian (join table) \u0111\u1ec3 qu\u1ea3n l\xfd m\u1ed1i quan h\u1ec7 n\xe0y, thay v\xec \u0111\u1ec3 Prisma t\u1ef1 \u0111\u1ed9ng x\u1eed l\xfd."]}),"\n",(0,e.jsxs)(i.li,{children:["V\xed d\u1ee5, gi\u1ea3 s\u1eed ta c\xf3 hai b\u1ea3ng: ",(0,e.jsx)(i.code,{children:"User"})," v\xe0 ",(0,e.jsx)(i.code,{children:"Group"}),". \u0110\u1ec3 t\u1ea1o m\u1ed9t quan h\u1ec7 many-to-many gi\u1eefa ch\xfang b\u1eb1ng explicit relations, ta c\u1ea7n th\xeam m\u1ed9t b\u1ea3ng trung gian ",(0,e.jsx)(i.code,{children:"UserGroup"}),"."]}),"\n"]}),"\n",(0,e.jsx)(i.p,{children:(0,e.jsx)(i.img,{alt:"1729522970166",src:t(4556).A+"",width:"1402",height:"1296"})}),"\n",(0,e.jsx)(i.admonition,{type:"tip",children:(0,e.jsxs)(i.ul,{children:["\n",(0,e.jsxs)(i.li,{children:[(0,e.jsx)(i.strong,{children:"Explicit many-to-many relations"})," th\xedch h\u1ee3p khi ta c\u1ea7n th\xeam c\xe1c thu\u1ed9c t\xednh b\u1ed5 sung cho b\u1ea3ng trung gian."]}),"\n"]})}),"\n",(0,e.jsx)(i.h2,{id:"implicit-many-to-many-relations",children:"Implicit many-to-many relations"}),"\n",(0,e.jsxs)(i.ul,{children:["\n",(0,e.jsxs)(i.li,{children:["Trong Prisma, ",(0,e.jsx)(i.strong,{children:"implicit many-to-many relations"})," (quan h\u1ec7 nhi\u1ec1u-nhi\u1ec1u ng\u1ea7m \u0111\u1ecbnh) l\xe0 c\xe1ch thi\u1ebft l\u1eadp quan h\u1ec7 nhi\u1ec1u-nhi\u1ec1u t\u1ef1 \u0111\u1ed9ng m\xe0 kh\xf4ng c\u1ea7n t\u1ea1o m\u1ed9t b\u1ea3ng trung gian (join table) m\u1ed9t c\xe1ch r\xf5 r\xe0ng. Prisma s\u1ebd t\u1ef1 \u0111\u1ed9ng t\u1ea1o b\u1ea3ng trung gian trong c\u01a1 s\u1edf d\u1eef li\u1ec7u \u0111\u1ec3 qu\u1ea3n l\xfd m\u1ed1i quan h\u1ec7 n\xe0y m\xe0 kh\xf4ng y\xeau c\u1ea7u ta ph\u1ea3i \u0111\u1ecbnh ngh\u0129a b\u1ea3ng \u0111\xf3 trong m\xf4 h\xecnh Prisma c\u1ee7a m\xecnh."]}),"\n",(0,e.jsxs)(i.li,{children:["V\xed d\u1ee5, gi\u1ea3 s\u1eed ta c\xf3 hai b\u1ea3ng ",(0,e.jsx)(i.code,{children:"User"})," v\xe0 ",(0,e.jsx)(i.code,{children:"Group"}),", v\xe0 ta mu\u1ed1n thi\u1ebft l\u1eadp quan h\u1ec7 many-to-many gi\u1eefa ch\xfang m\xe0 kh\xf4ng ph\u1ea3i khai b\xe1o b\u1ea3ng trung gian:"]}),"\n"]}),"\n",(0,e.jsx)(i.p,{children:(0,e.jsx)(i.img,{alt:"1729523034859",src:t(2957).A+"",width:"988",height:"616"})}),"\n",(0,e.jsxs)(i.p,{children:["\u27a1\ufe0f Prisma s\u1ebd t\u1ea1o b\u1ea3ng v\u1edbi t\xean ",(0,e.jsx)(i.code,{children:"_grouptouser"}),", ch\u1ee9a hai kh\xf3a ngo\u1ea1i: ",(0,e.jsx)(i.code,{children:"A (groupId)"})," v\xe0 ",(0,e.jsx)(i.code,{children:"B (userId)"})," \u0111\u1ec3 qu\u1ea3n l\xfd m\u1ed1i quan h\u1ec7 n\xe0y"]}),"\n",(0,e.jsx)(i.admonition,{type:"note",children:(0,e.jsxs)(i.ul,{children:["\n",(0,e.jsxs)(i.li,{children:["Gi\u1eefa 2 model, model n\xe0o c\xf3 t\xean theo th\u1ee9 t\u1ef1 Alphabet nh\u1ecf h\u01a1n th\xec ",(0,e.jsx)(i.code,{children:"A"})," l\xe0 kh\xf3a ngo\u1ea1i c\u1ee7a model \u0111\xf3, ",(0,e.jsx)(i.code,{children:"B"})," l\xe0 kh\xf3a ngo\u1ea1i c\u1ee7a model c\xf2n l\u1ea1i."]}),"\n"]})}),"\n",(0,e.jsx)(i.admonition,{type:"tip",children:(0,e.jsxs)(i.ul,{children:["\n",(0,e.jsxs)(i.li,{children:[(0,e.jsx)(i.strong,{children:"Implicit many-to-many relations"})," th\xedch h\u1ee3p khi ta kh\xf4ng c\u1ea7n th\xeam c\xe1c thu\u1ed9c t\xednh b\u1ed5 sung cho b\u1ea3ng trung gian, v\xe0 ch\u1ec9 c\u1ea7n thi\u1ebft l\u1eadp quan h\u1ec7 nhi\u1ec1u-nhi\u1ec1u \u0111\u01a1n gi\u1ea3n gi\u1eefa hai b\u1ea3ng."]}),"\n"]})}),"\n",(0,e.jsxs)(i.ul,{children:["\n",(0,e.jsxs)(i.li,{children:["\u0110\u1ec3 \u0111\u1ed5i t\xean b\u1ea3ng trung gian khi s\u1eed d\u1ee5ng ",(0,e.jsx)(i.strong,{children:"Implicit many-to-many relations"}),", ta h\xe3y s\u1eed d\u1ee5ng tham s\u1ed1 ",(0,e.jsx)(i.a,{href:"./@relation#name",children:"name"})," c\u1ee7a ",(0,e.jsx)(i.code,{children:"@relation()"}),". Trong v\xed d\u1ee5 sau, b\u1ea3ng trung gian s\u1ebd c\xf3 t\xean ",(0,e.jsx)(i.strong,{children:"_user_in_group"}),"."]}),"\n"]}),"\n",(0,e.jsx)(i.p,{children:(0,e.jsx)(i.img,{alt:"1729523091675",src:t(5008).A+"",width:"1042",height:"696"})}),"\n",(0,e.jsx)(i.admonition,{type:"note",children:(0,e.jsxs)(i.ul,{children:["\n",(0,e.jsxs)(i.li,{children:["N\u1ebfu c\xf3 nhi\u1ec1u m\u1ed1i quan h\u1ec7 n-n v\u1edbi c\xf9ng 1 model, h\xe3y s\u1eed d\u1ee5ng ",(0,e.jsx)(i.a,{href:"./@relation#name",children:"name"})," \u0111\u1ec3 ph\xe2n bi\u1ec7t r\xf5 r\xe0ng, v\xed d\u1ee5:\n",(0,e.jsx)(i.img,{alt:"1729523167199",src:t(2031).A+"",width:"1258",height:"576"})]}),"\n"]})})]})}function d(n={}){const{wrapper:i}={...(0,a.R)(),...n.components};return i?(0,e.jsx)(i,{...n,children:(0,e.jsx)(h,{...n})}):h(n)}},4556:(n,i,t)=>{t.d(i,{A:()=>e});const e=t.p+"assets/images/1729522970166-d8e12b78d7a87f4a3bf751c9a11e13f4.png"},2957:(n,i,t)=>{t.d(i,{A:()=>e});const e=t.p+"assets/images/1729523034859-658b5e7e984eff105758fd4de68306dc.png"},5008:(n,i,t)=>{t.d(i,{A:()=>e});const e=t.p+"assets/images/1729523091675-a4caa4f31f47e8cb4e188a2c6b761625.png"},2031:(n,i,t)=>{t.d(i,{A:()=>e});const e=t.p+"assets/images/1729523167199-75c1f3d112f5c4ca033eeac7306fad4d.png"},8453:(n,i,t)=>{t.d(i,{R:()=>r,x:()=>o});var e=t(6540);const a={},s=e.createContext(a);function r(n){const i=e.useContext(s);return e.useMemo((function(){return"function"==typeof n?n(i):{...i,...n}}),[i,n])}function o(n){let i;return i=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:r(n.components),e.createElement(s.Provider,{value:i},n.children)}}}]);