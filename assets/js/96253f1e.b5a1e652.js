"use strict";(self.webpackChunknextjs=self.webpackChunknextjs||[]).push([[532],{8601:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>l,contentTitle:()=>o,default:()=>a,frontMatter:()=>s,metadata:()=>c,toc:()=>d});var t=i(4848),r=i(8453);const s={sidebar_position:1},o="Quan h\u1ec7 1 - 1",c={id:"relations/one-to-one-relation",title:"Quan h\u1ec7 1 - 1",description:"1-1 relation",source:"@site/docs/relations/one-to-one-relation.md",sourceDirName:"relations",slug:"/relations/one-to-one-relation",permalink:"/prisma/relations/one-to-one-relation",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Relations",permalink:"/prisma/category/relations"},next:{title:"Quan h\u1ec7 1 - n",permalink:"/prisma/relations/one-to-many-relation"}},l={},d=[{value:"1-1 relation",id:"1-1-relation",level:2},{value:"Optional 1-1 relation",id:"optional-1-1-relation",level:2}];function h(n){const e={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"quan-h\u1ec7-1---1",children:"Quan h\u1ec7 1 - 1"})}),"\n",(0,t.jsx)(e.h2,{id:"1-1-relation",children:"1-1 relation"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Trong Prisma, quan h\u1ec7 one-to-one (m\u1ed9t-m\u1ed9t) \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng khi m\u1ed9t b\u1ea3n ghi trong m\u1ed9t b\u1ea3ng ch\u1ec9 c\xf3 th\u1ec3 li\xean k\u1ebft v\u1edbi m\u1ed9t b\u1ea3n ghi duy nh\u1ea5t trong b\u1ea3ng kh\xe1c. V\xed d\u1ee5, m\u1ed9t ",(0,t.jsx)(e.code,{children:"User"})," c\xf3 th\u1ec3 c\xf3 m\u1ed9t ",(0,t.jsx)(e.code,{children:"Profile"}),", v\xe0 m\u1ed7i ",(0,t.jsx)(e.code,{children:"Profile"})," ch\u1ec9 thu\u1ed9c v\u1ec1 m\u1ed9t ",(0,t.jsx)(e.code,{children:"User"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:["D\u01b0\u1edbi \u0111\xe2y l\xe0 m\u1ed9t v\xed d\u1ee5 v\u1ec1 quan h\u1ec7 one-to-one gi\u1eefa hai b\u1ea3ng ",(0,t.jsx)(e.code,{children:"User"})," v\xe0 ",(0,t.jsx)(e.code,{children:"Profile"})," v\u1edbi CSDL quan h\u1ec7 trong Prisma:"]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{alt:"1729521821500",src:i(6108).A+"",width:"1348",height:"656"})}),"\n",(0,t.jsx)(e.admonition,{type:"info",children:(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Trong v\xed d\u1ee5 tr\xean:","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"User"})," c\xf3 th\u1ec3 c\xf3 0 ho\u1eb7c 1 ",(0,t.jsx)(e.code,{children:"Profile"})," (v\xec ",(0,t.jsx)(e.code,{children:"profile"})," field l\xe0 optional)"]}),"\n",(0,t.jsxs)(e.li,{children:["M\u1ed9t ",(0,t.jsx)(e.code,{children:"Profile"})," b\u1eaft bu\u1ed9c ph\u1ea3i connect v\u1edbi m\u1ed9t ",(0,t.jsx)(e.code,{children:"User"})]}),"\n",(0,t.jsxs)(e.li,{children:["Trong b\u1ea3ng ",(0,t.jsx)(e.code,{children:"Profile"}),", tr\u01b0\u1eddng ",(0,t.jsx)(e.code,{children:"userId"})," l\xe0 m\u1ed9t kh\xf3a ngo\u1ea1i (",(0,t.jsx)(e.code,{children:"foreign key"}),") tr\u1ecf \u0111\u1ebfn tr\u01b0\u1eddng ",(0,t.jsx)(e.code,{children:"id"})," c\u1ee7a b\u1ea3ng ",(0,t.jsx)(e.code,{children:"User"}),"."]}),"\n",(0,t.jsxs)(e.li,{children:["Thu\u1ed9c t\xednh ",(0,t.jsx)(e.code,{children:"@unique"})," \u1edf tr\u01b0\u1eddng ",(0,t.jsx)(e.code,{children:"userId"})," \u0111\u1ea3m b\u1ea3o r\u1eb1ng m\u1ed9t ",(0,t.jsx)(e.code,{children:"User"})," ch\u1ec9 c\xf3 th\u1ec3 c\xf3 m\u1ed9t ",(0,t.jsx)(e.code,{children:"Profile"})," duy nh\u1ea5t. (b\u1eaft bu\u1ed9c ph\u1ea3i \u0111\u1eb7t \u0111\u1ec3 r\xe0ng bu\u1ed9c)"]}),"\n"]}),"\n"]}),"\n"]})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["V\xed d\u1ee5 b\xean tr\xean l\u1ea5y ",(0,t.jsx)(e.code,{children:"id"})," c\u1ee7a user l\xe0m kh\xf3a ngo\u1ea1i, v\xed d\u1ee5 sau \u0111\xe2y s\u1ebd l\u1ea5y ",(0,t.jsx)(e.code,{children:"email"})," l\xe0m kh\xf3a ngo\u1ea1i:"]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{alt:"1729521934028",src:i(2698).A+"",width:"1852",height:"576"})}),"\n",(0,t.jsx)(e.admonition,{type:"caution",children:(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["L\u01b0u \xfd r\u1eb1ng trong c\u1ea3 2 model, thu\u1ed9c t\xednh l\xe0m kh\xf3a ngo\u1ea1i v\xe0 thu\u1ed9c t\xednh \u0111\u01b0\u1ee3c kh\xf3a ngo\u1ea1i li\xean k\u1ebft \u0111\u1ebfn th\xec b\u1eaft bu\u1ed9c ph\u1ea3i c\xf3 attribute ",(0,t.jsx)(e.code,{children:"@unique"})," (nh\u01b0 \u1edf v\xed d\u1ee5 tr\xean l\xe0 ",(0,t.jsx)(e.code,{children:"email"})," v\xe0 ",(0,t.jsx)(e.code,{children:"userEmail"}),")"]}),"\n"]})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"D\u01b0\u1edbi \u0111\xe2y l\xe0 v\xed d\u1ee5 trong MongoDB:"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{alt:"1729522282396",src:i(3121).A+"",width:"1294",height:"536"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{alt:"1729522035562",src:i(4218).A+"",width:"2104",height:"576"})}),"\n",(0,t.jsx)(e.h2,{id:"optional-1-1-relation",children:"Optional 1-1 relation"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Trong v\xed d\u1ee5 tr\xean, khi t\u1ea1o ",(0,t.jsx)(e.strong,{children:"Profile"})," th\xec ta b\u1eaft bu\u1ed9c ph\u1ea3i li\xean k\u1ebft v\u1edbi 1 ",(0,t.jsx)(e.strong,{children:"User"})," c\u1ee5 th\u1ec3, \u0111\u1ec3 kh\xf4ng ph\u1ea3i l\xe0m v\u1eady, ta \u0111\xe1nh d\u1ea5u ch\u1ed7 ",(0,t.jsx)(e.code,{children:"userId"})," v\u1edbi ",(0,t.jsx)(e.code,{children:"user"})," trong model ",(0,t.jsx)(e.strong,{children:"Profile"})," l\xe0 optional:"]}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{alt:"1729522367945",src:i(2633).A+"",width:"1330",height:"656"})})]})}function a(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(h,{...n})}):h(n)}},6108:(n,e,i)=>{i.d(e,{A:()=>t});const t=i.p+"assets/images/1729521821500-90095e69e73010a1b3fdb8d1aef1909e.png"},2698:(n,e,i)=>{i.d(e,{A:()=>t});const t=i.p+"assets/images/1729521934028-b7bd89a10ba02023a0039281b6c49444.png"},4218:(n,e,i)=>{i.d(e,{A:()=>t});const t=i.p+"assets/images/1729522035562-0e4d5c481ff16890eabde9eb23bf2e6b.png"},3121:(n,e,i)=>{i.d(e,{A:()=>t});const t=i.p+"assets/images/1729522282396-ef92aace5853858d674816e4e43c4c06.png"},2633:(n,e,i)=>{i.d(e,{A:()=>t});const t=i.p+"assets/images/1729522367945-91e66ca46d7bedad94c220e0d5629120.png"},8453:(n,e,i)=>{i.d(e,{R:()=>o,x:()=>c});var t=i(6540);const r={},s=t.createContext(r);function o(n){const e=t.useContext(s);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:o(n.components),t.createElement(s.Provider,{value:e},n.children)}}}]);